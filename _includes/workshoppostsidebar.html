<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>

          {{ page.type }}
      </h1>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item{% if page.url == site.baseurl %} active{% endif %}" href="{{ "workshops" | site.baseurl | prepend: site.url }}">Workshops Home</a>

      {% comment %}
        The code below dynamically generates a sidebar nav of pages with
        `layout: page` in the front-matter. See readme for usage.
      {% endcomment %}


        {% capture pagetype %}{{ page.type | replace: 'extra', '' | replace: 'overview', ''}}{% endcapture %}
        {% capture extratype %}{{ pagetype }}extra{% endcapture %}
        {% capture overviewtype %}{{ pagetype }}overview{% endcapture %}

        {% capture home %}{{ pagetype | prepend: "/workshops/" | prepend: site.baseurl | prepend: site.url }}{% endcapture %}

        <a class="sidebar-nav-item{% if page.url == home %} active{% endif %}" href="{{ home }}">{{pagetype}} Home</a>

        <hr>
        <span class="sidebar-nav-item">Overview</span>

      {% assign pages_list = site.workshops | sort: 'title' %}

        {% for node in pages_list %}
        {% if node.title != null and node.layout == "workshoppost" and node.type == overviewtype %}
        <a class="sidebar-nav-item{% if page.url == node.url %} active{% endif %}" href="{{ node.url  | remove_first: '/'  | prepend: site.baseurl | prepend: site.url}}">{{ node.title }}</a>
        {% endif %}
        {% endfor %}

        <hr>
        <span class="sidebar-nav-item">Labs</span>

        {% for node in pages_list %}
        {% if node.title != null and node.layout == "workshoppost" and node.type == pagetype %}
            <a class="sidebar-nav-item{% if page.url == node.url %} active{% endif %}" href="{{ node.url  | remove_first: '/'  | prepend: site.baseurl | prepend: site.url}}">{{ node.title }}</a>
        {% endif %}
      {% endfor %}

        <hr>
        <span class="sidebar-nav-item">Extra Labs</span>

        {% for node in pages_list %}
        {% if node.title != null and node.layout == "workshoppost" and node.type == extratype %}
        <a class="sidebar-nav-item{% if page.url == node.url %} active{% endif %}" href="{{ node.url  | remove_first: '/'  | prepend: site.baseurl | prepend: site.url}}">{{ node.title }}</a>
        {% endif %}
        {% endfor %}

        <hr>
    </nav>

    <p>&copy; {{ site.time | date: '%Y' }}. All rights reserved.</p>
  </div>
</div>
